<html>
<head></head>
<body>

<ul id="constraintui">
</ul>

<pre style="display: none;">
addProperty("id")
addConstraint("id", "eq", "abc")

addConstraint:
 - Look for li with data-property-name="id"
  - If one exists, add a new ul/li
  - Otherwise, add a new base li
  - Add a select function
  - select.changed(function to change the inputs)
  - call 
 - Add a new ul/li 
</pre>

	<div id="addField">xxxxxxxxx</div>
	<div id="functions"></div><div id="inputs"></div>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="constraints.js"></script>
	<script type="text/javascript" src="mustache.js"></script>
	
	<!-- Initialise the constraints logic on any .constraint_list element -->
	<script type="text/javascript">
		/* Need to add a click handler to this*/
		$("#addField").html(renderAddField());
		$("#addField select.constraint_add_field").change(function() {
			var fieldName = $(this).val();
			
			if (fieldName != '') {
				/* De-select ready for next use */
				$(this).val('');
				
				addConstraint(fieldName, "eq", "");
			}
		});
	</script>
</body>
</html>
